<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;adventure - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/adventure.html#var">Var Details</a> - <a href="datum/adventure.html#proc">Proc Details</a></header>
<main>
<h1>adventure <aside>/<a href="datum.html">datum</a>/<a href="datum/adventure.html">adventure</a></aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L217">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 217"/></a></h1>

<p>text adventure instance, holds data about nodes/choices/etc and of current play state.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/adventure.html#var/band_modifiers">band_modifiers</a></th><td>Modifiers to band scan values</td></tr>
            <tr><th><a href="datum/adventure.html#var/current_node">current_node</a></th><td>Current active adventure node</td></tr>
            <tr><th><a href="datum/adventure.html#var/deep_scan_description">deep_scan_description</a></th><td>Opional description shown after site deep scan</td></tr>
            <tr><th><a href="datum/adventure.html#var/delayed_action">delayed_action</a></th><td>Delayed state properties. If not null, means adventure is in delayed action state and will contain list(delay_time,delay_message)</td></tr>
            <tr><th><a href="datum/adventure.html#var/loot_categories">loot_categories</a></th><td>Loot table ids used as reward for finishing the adventure succesfully.</td></tr>
            <tr><th><a href="datum/adventure.html#var/name">name</a></th><td>Adventure name, this organization only, not visible to users</td></tr>
            <tr><th><a href="datum/adventure.html#var/nodes">nodes</a></th><td>Nodes for this adventure, represent single scene.</td></tr>
            <tr><th><a href="datum/adventure.html#var/previous_node_id">previous_node_id</a></th><td>Last other node than this one. Used by GO_BACK_NODE</td></tr>
            <tr><th><a href="datum/adventure.html#var/qualities">qualities</a></th><td>Assoc list of quality name = value</td></tr>
            <tr><th><a href="datum/adventure.html#var/required_site_traits">required_site_traits</a></th><td>Required site traits for the adventure to appear</td></tr>
            <tr><th><a href="datum/adventure.html#var/starting_node">starting_node</a></th><td>Node the adventure will start at</td></tr>
            <tr><th><a href="datum/adventure.html#var/starting_qualities">starting_qualities</a></th><td>List of starting quality values, these will be set before first node is encountered.</td></tr>
            <tr><th><a href="datum/adventure.html#var/trigger_loop_safety">trigger_loop_safety</a></th><td>Keeps track firing of triggers until stop state to prevent loops</td></tr>
            <tr><th><a href="datum/adventure.html#var/triggers">triggers</a></th><td>Triggers for this adventure, checked after quality changes to cause instantenous results</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/adventure.html#proc/apply_adventure_effect">apply_adventure_effect</a></th><td>Applies changes encoded in effect data and processes triggers, returns TRUE if the change forced node change.</td></tr>
            <tr><th><a href="datum/adventure.html#proc/check_requirement_group">check_requirement_group</a></th><td>Recursively validates group requirements.</td></tr>
            <tr><th><a href="datum/adventure.html#proc/check_requirements">check_requirements</a></th><td>Checks if current qualities satisfy passed in requirements</td></tr>
            <tr><th><a href="datum/adventure.html#proc/end_adventure">end_adventure</a></th><td>Finish adventure</td></tr>
            <tr><th><a href="datum/adventure.html#proc/handle_special_nodes">handle_special_nodes</a></th><td>Handles special node ID's</td></tr>
            <tr><th><a href="datum/adventure.html#proc/process_adventure_value">process_adventure_value</a></th><td>Check Triggers
Extracts raw value from special value objects</td></tr>
            <tr><th><a href="datum/adventure.html#proc/start_adventure">start_adventure</a></th><td>Check all nodes have choices</td></tr>
            <tr><th><a href="datum/adventure.html#proc/validate">validate</a></th><td>Basic sanity checks to ensure broken adventures are not used.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/band_modifiers"><aside class="declaration">var </aside>band_modifiers
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L225">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 225"/></a></h3>
        <p>Modifiers to band scan values</p><h3 id="var/current_node"><aside class="declaration">var </aside>current_node
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/adventure_node.html">adventure_node</a></aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L241">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 241"/></a></h3>
        <p>Current active adventure node</p><h3 id="var/deep_scan_description"><aside class="declaration">var </aside>deep_scan_description
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L237">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 237"/></a></h3>
        <p>Opional description shown after site deep scan</p><h3 id="var/delayed_action"><aside class="declaration">var </aside>delayed_action
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L249">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 249"/></a></h3>
        <p>Delayed state properties. If not null, means adventure is in delayed action state and will contain list(delay_time,delay_message)</p><h3 id="var/loot_categories"><aside class="declaration">var </aside>loot_categories
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L227">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 227"/></a></h3>
        <p>Loot table ids used as reward for finishing the adventure succesfully.</p><h3 id="var/name"><aside class="declaration">var </aside>name
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L219">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 219"/></a></h3>
        <p>Adventure name, this organization only, not visible to users</p><h3 id="var/nodes"><aside class="declaration">var </aside>nodes
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L229">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 229"/></a></h3>
        <p>Nodes for this adventure, represent single scene.</p><h3 id="var/previous_node_id"><aside class="declaration">var </aside>previous_node_id
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L243">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 243"/></a></h3>
        <p>Last other node than this one. Used by GO_BACK_NODE</p><h3 id="var/qualities"><aside class="declaration">var </aside>qualities
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L245">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 245"/></a></h3>
        <p>Assoc list of quality name = value</p><h3 id="var/required_site_traits"><aside class="declaration">var </aside>required_site_traits
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L223">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 223"/></a></h3>
        <p>Required site traits for the adventure to appear</p><h3 id="var/starting_node"><aside class="declaration">var </aside>starting_node
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L221">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 221"/></a></h3>
        <p>Node the adventure will start at</p><h3 id="var/starting_qualities"><aside class="declaration">var </aside>starting_qualities
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L233">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 233"/></a></h3>
        <p>List of starting quality values, these will be set before first node is encountered.</p><h3 id="var/trigger_loop_safety"><aside class="declaration">var </aside>trigger_loop_safety
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L235">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 235"/></a></h3>
        <p>Keeps track firing of triggers until stop state to prevent loops</p><h3 id="var/triggers"><aside class="declaration">var </aside>triggers
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L231">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 231"/></a></h3>
        <p>Triggers for this adventure, checked after quality changes to cause instantenous results</p><h2 id="proc">Proc Details</h2><h3 id="proc/apply_adventure_effect"><aside class="declaration">proc </aside>apply_adventure_effect<aside>(/list/effect_data, process_triggers) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L382">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 382"/></a></aside>
        </h3>
        <p>Applies changes encoded in effect data and processes triggers, returns TRUE if the change forced node change.</p><h3 id="proc/check_requirement_group"><aside class="declaration">proc </aside>check_requirement_group<aside>(raw_group_data) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L448">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 448"/></a></aside>
        </h3>
        <p>Recursively validates group requirements.</p><h3 id="proc/check_requirements"><aside class="declaration">proc </aside>check_requirements<aside>(raw_requirements) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L433">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 433"/></a></aside>
        </h3>
        <p>Checks if current qualities satisfy passed in requirements</p><h3 id="proc/end_adventure"><aside class="declaration">proc </aside>end_adventure<aside>(result) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L264">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 264"/></a></aside>
        </h3>
        <p>Finish adventure</p><h3 id="proc/handle_special_nodes"><aside class="declaration">proc </aside>handle_special_nodes<aside>(node_id) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L285">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 285"/></a></aside>
        </h3>
        <p>Handles special node ID's</p><h3 id="proc/process_adventure_value"><aside class="declaration">proc </aside>process_adventure_value<aside>(raw_value) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L421">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 421"/></a></aside>
        </h3>
        <p>Check Triggers
Extracts raw value from special value objects</p><h3 id="proc/start_adventure"><aside class="declaration">proc </aside>start_adventure<aside>() 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L258">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 258"/></a></aside>
        </h3>
        <p>Check all nodes have choices</p><h3 id="proc/validate"><aside class="declaration">proc </aside>validate<aside>() 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/explorer_drone/adventure.dm#L250">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;explorer_drone&#x2F;adventure.dm 250"/></a></aside>
        </h3>
        <p>Basic sanity checks to ensure broken adventures are not used.</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/fulpstation/fulpstation/tree/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc">629e2d4</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
