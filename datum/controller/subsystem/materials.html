<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;controller&#x2F;subsystem&#x2F;materials - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/controller/subsystem/materials.html#var">Var Details</a> - <a href="datum/controller/subsystem/materials.html#proc">Proc Details</a></header>
<main>
<h1>materials <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/materials.html">materials</a></aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 8"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/base_stack_recipes">base_stack_recipes</a></th><td>List of stackcrafting recipes for materials using base recipes</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/material_combos">material_combos</a></th><td>A cache of all material combinations that have been used</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/materialids_by_category">materialids_by_category</a></th><td>Dictionary of category || list of material ids, mostly used by rnd machines like autolathes.</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/materialids_by_type">materialids_by_type</a></th><td>Dictionary of type || list of material ids</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/materials">materials</a></th><td>Dictionary of material.id || material ref</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/materials_by_category">materials_by_category</a></th><td>Dictionary of category || list of material refs</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/materials_by_type">materials_by_type</a></th><td>Dictionary of type || list of material refs</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#var/rigid_stack_recipes">rigid_stack_recipes</a></th><td>List of stackcrafting recipes for materials using rigid recipes</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#proc/FindOrCreateMaterialCombo">FindOrCreateMaterialCombo</a></th><td>Returns a list to be used as an object's custom_materials. Lists will be cached and re-used based on the parameters.</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#proc/GetIdFromArguments">GetIdFromArguments</a></th><td></td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#proc/InitializeMaterial">InitializeMaterial</a></th><td></td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#proc/InitializeMaterials">InitializeMaterials</a></th><td>Ran on initialize, populated the materials and materials_by_category dictionaries with their appropiate vars (See these variables for more info)</td></tr>
            <tr><th><a href="datum/controller/subsystem/materials.html#proc/_GetMaterialRef">_GetMaterialRef</a></th><td></td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/base_stack_recipes"><aside class="declaration">var </aside>base_stack_recipes
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L24">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 24"/></a></h3>
        <p>List of stackcrafting recipes for materials using base recipes</p><h3 id="var/material_combos"><aside class="declaration">var </aside>material_combos
            <aside>&ndash; /list/list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L22">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 22"/></a></h3>
        <p>A cache of all material combinations that have been used</p><h3 id="var/materialids_by_category"><aside class="declaration">var </aside>materialids_by_category
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L20">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 20"/></a></h3>
        <p>Dictionary of category || list of material ids, mostly used by rnd machines like autolathes.</p><h3 id="var/materialids_by_type"><aside class="declaration">var </aside>materialids_by_type
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L16">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 16"/></a></h3>
        <p>Dictionary of type || list of material ids</p><h3 id="var/materials"><aside class="declaration">var </aside>materials
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L12">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 12"/></a></h3>
        <p>Dictionary of material.id || material ref</p><h3 id="var/materials_by_category"><aside class="declaration">var </aside>materials_by_category
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L18">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 18"/></a></h3>
        <p>Dictionary of category || list of material refs</p><h3 id="var/materials_by_type"><aside class="declaration">var </aside>materials_by_type
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L14">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 14"/></a></h3>
        <p>Dictionary of type || list of material refs</p><h3 id="var/rigid_stack_recipes"><aside class="declaration">var </aside>rigid_stack_recipes
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L32">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 32"/></a></h3>
        <p>List of stackcrafting recipes for materials using rigid recipes</p><h2 id="proc">Proc Details</h2><h3 id="proc/FindOrCreateMaterialCombo"><aside class="declaration">proc </aside>FindOrCreateMaterialCombo<aside>(/list/materials_declaration, multiplier) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L148">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 148"/></a></aside>
        </h3>
        <p>Returns a list to be used as an object's custom_materials. Lists will be cached and re-used based on the parameters.</p><h3 id="proc/GetIdFromArguments"><aside class="declaration">proc </aside>GetIdFromArguments<aside>(/list/arguments) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L122">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 122"/></a></aside>
        </h3>
        <ul>
<li>
<p>I'm not going to lie, this was swiped from <a href="datum/controller/subsystem/processing/dcs.html" title="/datum/controller/subsystem/processing/dcs">SSdcs</a>.</p>
</li>
<li>
<p>Credit does to ninjanomnom</p>
</li>
<li>
<p>Generates an id for bespoke <del>elements</del> materials when given the argument list</p>
</li>
<li>
<p>Generating the id here is a bit complex because we need to support named arguments</p>
</li>
<li>
<p>Named arguments can appear in any order and we need them to appear after ordered arguments</p>
</li>
<li>
<p>We assume that no one will pass in a named argument with a value of null</p>
</li>
</ul><h3 id="proc/InitializeMaterial"><aside class="declaration">proc </aside>InitializeMaterial<aside>(/list/arguments) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L56">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 56"/></a></aside>
        </h3>
        <ul>
<li>
<p>Creates and caches a material datum.</p>
</li>
<li>
<p>Arugments:</p>
</li>
<li>
<ul>
<li><a href="https://secure.byond.com/docs/ref/#/list" title="/list">arguments</a>: The arguments to use to create the material datum</li>
</ul>
</li>
<li>
<ul>
<li>The first element is the type of material to initialize.</li>
</ul>
</li>
</ul><h3 id="proc/InitializeMaterials"><aside class="declaration">proc </aside>InitializeMaterials<aside>() 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L37">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 37"/></a></aside>
        </h3>
        <p>Ran on initialize, populated the materials and materials_by_category dictionaries with their appropiate vars (See these variables for more info)</p><h3 id="proc/_GetMaterialRef"><aside class="declaration">proc </aside>_GetMaterialRef<aside>(/list/arguments) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/controllers/subsystem/materials.dm#L88">
        <img src="git.png" width="16" height="16" title="code&#x2F;controllers&#x2F;subsystem&#x2F;materials.dm 88"/></a></aside>
        </h3>
        <ul>
<li>
<p>Fetches a cached material singleton when passed sufficient arguments.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li><a href="https://secure.byond.com/docs/ref/#/list" title="/list">arguments</a>: The list of arguments used to fetch the material ref.</li>
</ul>
</li>
<li>
<ul>
<li>The first element is a material datum, text string, or material type.</li>
</ul>
</li>
<li>
<pre><code>- [Material datums][/datum/material] are assumed to be references to the cached datum and are returned
</code></pre>
</li>
<li>
<pre><code>- Text is assumed to be the text ID of a material and the corresponding material is fetched from the cache
</code></pre>
</li>
<li>
<pre><code>- A material type is checked for bespokeness:
</code></pre>
</li>
<li>
<pre><code>  - If the material type is not bespoke the type is assumed to be the id for a material and the corresponding material is loaded from the cache.
</code></pre>
</li>
<li>
<pre><code>  - If the material type is bespoke a text ID is generated from the arguments list and used to load a material datum from the cache.
</code></pre>
</li>
<li>
<ul>
<li>The following elements are used to generate bespoke IDs</li>
</ul>
</li>
</ul></main>
<footer>
    tgstation.dme
    <a href="https://github.com/fulpstation/fulpstation/tree/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc">629e2d4</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
