author: "esainane"
delete-after: True
changes: 
  - refactor: "Completely restructure HFR main processes, fixing many unusual edge cases when the HFR was unpowered, out of fuel, interacted with other subsystems poorly, etc."
  - refactor: "HFR equations with cryptic parameters have all been rewritten to use mathematically equivalent normalized equations derived from human-parseable parameters."
  - code_imp: "The HFR now has fewer superfluous and misleading checks."
  - code_imp: "HFR configuration is now much more heavily documented and generally readable."
  - code_imp: "Many HFR defines and comments which are unused, misleading, and/or completely inapplicable to any public release of HFR code have been removed."
  - bugfix: "The HFR now only interacts with the SSair subsystem via the side IO components."
  - bugfix: "The HFR will no longer fail to cool if atmospherics is running slowly."
  - bugfix: "The HFR's ambient sound loop will no longer fail to update to match the current fusion level under certain conditions."
  - bugfix: "The HFR will no longer fail to update its UI under certain conditions."
  - bugfix: "The HFR will no longer melt down at speeds largely determined by the wider atmospherics system."
  - bugfix: "The HFR can no longer get stuck in states which heal without taking damage or vice versa."
  - bugfix: "The HFR's healing/damage effects that depend on fusion power level now genuinely depend on fusion power level, rather than doing nothing but at any power level."
  - bugfix: "The HFR no longer uses two distinct functions to fire nuclear particles, which effectively doubled the rate under some conditions."
  - bugfix: "The HFR now treats Iron Content as having appropriate units - fractional rather than percentage points. Accumulating Iron Content will now makes it slightly harder to destabilize the reaction (turn it endothermic), beware."
  - bugfix: "The HFR now respects delta_time in more places, again, again."
  - bugfix: "The HFR now respects delta_time in another place, again, again, again."
  - code_imp: "Some HFR calculations have been greatly simplified (no mechanical change)."
  - bugfix: "The HFR will no longer accumulate iron if there is no live reaction."
  - bugfix: "The HFR will no longer passively evaporate moderator gases if there is no live reaction."
  - bugfix: "The HFR, after cracking under pressure, will no longer merely leave a pretty decal on the affected part while becoming immune to all future cracking conditions, as long as nobody repaired the crack. The initial spill if highly pressurized is still the most dangerous, but the HFR will continue to slowly leak its contents even under low pressure while cracked.
content: The HFR initially took damage at unsafe fusion levels with excess mass over 2500-1500 moles, depending on temperature. This was later changed to 2700-2589 moles, but in a way that looked like it was only meant make the thresholds a few hundred moles more tolerant. The range is now 2700-1800 moles."
  - bugfix: "HFR production rate is no longer multiplied by both the fuel consumption modifier and the gas production modifier. This means the top tier Hypernoblium/Anti-noblium recipe is now worth using, providing a production bonus of 3x rather than a penalty of x0.03. This recipe is still just as hard to operate safely."
