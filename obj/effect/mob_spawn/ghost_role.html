<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;effect&#x2F;mob_spawn&#x2F;ghost_role - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/effect/mob_spawn/ghost_role.html#var">Var Details</a> - <a href="obj/effect/mob_spawn/ghost_role.html#proc">Proc Details</a></header>
<main>
<h1>ghost_role <aside>/<a href="obj.html">obj</a>/<a href="obj/effect/mob_spawn.html">effect/mob_spawn</a>/<a href="obj/effect/mob_spawn/ghost_role.html">ghost_role</a></aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L109">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 109"/></a></h1>

<p>these mob spawn subtypes do not trigger until attacked by a ghost.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/ckeys_trying_to_spawn">ckeys_trying_to_spawn</a></th><td>A list of the ckeys that currently are trying to access this spawner, so that they can't try to spawn more than once (in case there's sleeps).
Static because you only really want to be able to spawn in one spawner at a time, obviously.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/deletes_on_zero_uses_left">deletes_on_zero_uses_left</a></th><td>Does the spawner delete itself when it runs out of uses?</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/flavour_text">flavour_text</a></th><td>This should be the actual instructions/description/context to the ghost role. This should be the really long explainy bit, basically.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/important_text">important_text</a></th><td>This is critical non-policy information about the ghost role. Shown in the spawner menu and after spawning last.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/prompt_ghost">prompt_ghost</a></th><td>if false, you won't prompt for this role. best used for replacing the prompt system with something else like a radial, or something.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/prompt_name">prompt_name</a></th><td>a short, lowercase name for the mob used in possession prompt that pops up on ghost attacks. must be set.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/role_ban">role_ban</a></th><td>/bans and policy
which role to check for a job ban (ROLE_LAVALAND is the default ghost role ban)</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/show_flavor">show_flavor</a></th><td>Show these on spawn? Usually used for hardcoded special flavor</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/spawner_job_path">spawner_job_path</a></th><td>Typepath indicating the kind of job datum this ghost role will have. PLEASE inherit this with a new job datum, it's not hard. jobs come with policy configs.</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/uses">uses</a></th><td>how many times this spawner can be used (it won't delete unless it's out of uses and the var to delete itself is set)</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#var/you_are_text">you_are_text</a></th><td>/descriptions
This should be the declaration of what the ghost role is, and maybe a short blurb after if you want. Shown in the spawner menu and after spawning first.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/allow_spawn">allow_spawn</a></th><td>override this to add special spawn conditions to a ghost role</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/check_uses">check_uses</a></th><td>Checks if the spawner has zero uses left, if so, delete yourself... NOW!</td></tr>
            <tr><th><a href="obj/effect/mob_spawn/ghost_role.html#proc/create_from_ghost">create_from_ghost</a></th><td>Uses a use and creates a mob from a passed ghost</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/ckeys_trying_to_spawn"><aside class="declaration">var </aside>ckeys_trying_to_spawn
            <aside>&ndash; /static/list</aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L120">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 120"/></a></h3>
        <p>A list of the ckeys that currently are trying to access this spawner, so that they can't try to spawn more than once (in case there's sleeps).
Static because you only really want to be able to spawn in one spawner at a time, obviously.</p><h3 id="var/deletes_on_zero_uses_left"><aside class="declaration">var </aside>deletes_on_zero_uses_left
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L117">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 117"/></a></h3>
        <p>Does the spawner delete itself when it runs out of uses?</p><h3 id="var/flavour_text"><aside class="declaration">var </aside>flavour_text
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L127">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 127"/></a></h3>
        <p>This should be the actual instructions/description/context to the ghost role. This should be the really long explainy bit, basically.</p><h3 id="var/important_text"><aside class="declaration">var </aside>important_text
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L129">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 129"/></a></h3>
        <p>This is critical non-policy information about the ghost role. Shown in the spawner menu and after spawning last.</p><h3 id="var/prompt_ghost"><aside class="declaration">var </aside>prompt_ghost
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L113">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 113"/></a></h3>
        <p>if false, you won't prompt for this role. best used for replacing the prompt system with something else like a radial, or something.</p><h3 id="var/prompt_name"><aside class="declaration">var </aside>prompt_name
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L111">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 111"/></a></h3>
        <p>a short, lowercase name for the mob used in possession prompt that pops up on ghost attacks. must be set.</p><h3 id="var/role_ban"><aside class="declaration">var </aside>role_ban
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L137">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 137"/></a></h3>
        <p>/bans and policy
which role to check for a job ban (ROLE_LAVALAND is the default ghost role ban)</p><h3 id="var/show_flavor"><aside class="declaration">var </aside>show_flavor
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L132">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 132"/></a></h3>
        <p>Show these on spawn? Usually used for hardcoded special flavor</p><h3 id="var/spawner_job_path"><aside class="declaration">var </aside>spawner_job_path
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L139">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 139"/></a></h3>
        <p>Typepath indicating the kind of job datum this ghost role will have. PLEASE inherit this with a new job datum, it's not hard. jobs come with policy configs.</p><h3 id="var/uses"><aside class="declaration">var </aside>uses
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L115">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 115"/></a></h3>
        <p>how many times this spawner can be used (it won't delete unless it's out of uses and the var to delete itself is set)</p><h3 id="var/you_are_text"><aside class="declaration">var </aside>you_are_text
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L125">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 125"/></a></h3>
        <p>/descriptions
This should be the declaration of what the ghost role is, and maybe a short blurb after if you want. Shown in the spawner menu and after spawning first.</p><h2 id="proc">Proc Details</h2><h3 id="proc/allow_spawn"><aside class="declaration">proc </aside>allow_spawn<aside>(/<a href="mob.html">mob</a>/user, silent) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L263">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 263"/></a></aside>
        </h3>
        <p>override this to add special spawn conditions to a ghost role</p><h3 id="proc/check_uses"><aside class="declaration">proc </aside>check_uses<aside>() 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L258">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 258"/></a></aside>
        </h3>
        <p>Checks if the spawner has zero uses left, if so, delete yourself... NOW!</p><h3 id="proc/create_from_ghost"><aside class="declaration">proc </aside>create_from_ghost<aside>(/<a href="mob.html">mob</a>/dead/user) 
        
    
            <a href="https://github.com/fulpstation/fulpstation/blob/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc/code/modules/mob_spawn/mob_spawn.dm#L209">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob_spawn&#x2F;mob_spawn.dm 209"/></a></aside>
        </h3>
        <p>Uses a use and creates a mob from a passed ghost</p>
<p>Does NOT validate that the spawn is possible or valid - assumes this has been done already!</p>
<p>If you are manually forcing a player into this mob spawn,
you should be using this and not directly calling [proc/create].</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/fulpstation/fulpstation/tree/629e2d40b55cd98862d1c91ccc4f04e9286e1fdc">629e2d4</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.7.3</a></footer>
</body>
</html>
